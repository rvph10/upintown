---
// Footer du site
import { Image } from 'astro:assets';
import logo from '../../public/global/logo.svg';
import s1Light from '../../public/symbols/s1-light.png';
import s2Light from '../../public/symbols/s2-light.png';
---

<footer role="contentinfo">
  <div class="container">
    <section class="footer-top" aria-labelledby="newsletter-heading">
      <div class="footer-col">
        <p class="mono" id="newsletter-heading">
          <span aria-hidden="true">&#9654;</span> Stay updated on new <span class="accent-text"
            >projects</span
          >
        </p>
        <form class="footer-newsletter-form" aria-label="Newsletter subscription form">
          <div class="footer-email-container">
            <div class="footer-email-row">
              <label for="newsletter-email" class="visually-hidden">Email address</label>
              <input
                type="email"
                id="newsletter-email"
                class="footer-newsletter-input"
                placeholder="your@email.com"
                aria-label="Email address for newsletter"
                required
              />
              <button
                type="submit"
                class="submit-btn footer-newsletter-btn"
                aria-label="Subscribe to newsletter"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                >
                  <path
                    d="M5 12H19M19 12L12 5M19 12L12 19"
                    stroke="currentColor"
                    stroke-width="2.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path>
                </svg>
              </button>
            </div>
          </div>
        </form>
      </div>
      <div class="footer-col"></div>
    </section>
    <div class="footer-bottom">
      <div class="footer-col">
        <div class="footer-logo">
          <a href="/" aria-label="upintown home">
            <Image src={logo} alt="upintown logo" style="width: 300px;" loading="lazy" />
          </a>
        </div>
      </div>
      <nav class="footer-col" aria-label="Footer navigation">
        <div class="footer-sub-col">
          <h2 class="mono"><span aria-hidden="true">&#9654;</span> Explore</h2>
          <div class="footer-links">
            <p><a href="/">Start Here</a></p>
            <p><a href="/about">Meet Us</a></p>
            <p><a href="/project">Explore Work</a></p>
            <p><a href="/contact">Get In Touch</a></p>
          </div>
        </div>
        <div class="footer-sub-col">
          <h2 class="mono"><span aria-hidden="true">&#9654;</span> Connect</h2>
          <div class="footer-copy">
            <p>
              <a href="https://github.com/rvph10" target="_blank" rel="noopener noreferrer"
                >Github</a
              >
            </p>
            <p class="coming-soon">Instagram <span>(Coming Soon)</span></p>
          </div>
        </div>
        <div class="footer-sub-col">
          <h2 class="mono"><span aria-hidden="true">&#9654;</span> Contact</h2>
          <div class="footer-copy">
            <p><a href="mailto:contact@upintown.dev">contact@upintown.dev</a></p>
          </div>
        </div>
      </nav>
    </div>
    <div class="footer-copyright">
      <div class="footer-copyright-top" role="presentation">
        <div class="symbols-container">
          <div class="symbol">
            <Image src={s1Light} alt="Decorative geometric symbol" loading="lazy" />
          </div>
          <div class="symbol">
            <Image src={s2Light} alt="Decorative geometric symbol" loading="lazy" />
          </div>
        </div>
        <div class="symbols-container">
          <div class="symbol">
            <Image src={s2Light} alt="Decorative geometric symbol" loading="lazy" />
          </div>
          <div class="symbol">
            <Image src={s1Light} alt="Decorative geometric symbol" loading="lazy" />
          </div>
        </div>
      </div>
      <div class="footer-copyright-bottom">
        <div class="footer-col">
          <p class="mono"><span aria-hidden="true">&#9654;</span> upintown</p>
        </div>
        <div class="footer-col">
          <p class="mono">&copy; 2025 All Rights Reserved</p>
        </div>
        <div class="footer-col">
          <p class="mono">
            MWT <time datetime={new Date().toISOString()}
              >{new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}</time
            >
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

<script src="/src/scripts/newsletter.js" type="module"></script>

<style>
  .footer-newsletter-message {
    margin-top: 1rem;
    padding: 0.75rem;
    border-radius: 8px;
    font-size: 0.9rem;
    display: none;
    animation: slideDown 0.3s ease-out;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .footer-newsletter-message.success {
    background: rgba(34, 197, 94, 0.1);
    color: rgb(34, 197, 94);
    border: 1px solid rgba(34, 197, 94, 0.3);
  }

  .footer-newsletter-message.error {
    background: rgba(239, 68, 68, 0.1);
    color: rgb(239, 68, 68);
    border: 1px solid rgba(239, 68, 68, 0.3);
  }

  .footer-newsletter-input.error {
    border-color: rgb(239, 68, 68) !important;
    outline-color: rgb(239, 68, 68);
    animation: shake 0.4s ease-in-out;
  }

  @keyframes shake {
    0%,
    100% {
      transform: translateX(0);
    }
    10%,
    30%,
    50%,
    70%,
    90% {
      transform: translateX(-4px);
    }
    20%,
    40%,
    60%,
    80% {
      transform: translateX(4px);
    }
  }

  .footer-newsletter-btn.loading {
    opacity: 0.6;
    cursor: not-allowed;
    pointer-events: none;
  }

  .footer-newsletter-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    pointer-events: none;
  }

  .footer-newsletter-input.error::placeholder {
    color: rgba(239, 68, 68, 0.6);
  }
</style>
